[cpu]
cycles=max
turbo=true

[log]
logfile=dosbox_console_log.txt
loglevel=normal
debuggerrun=normal

[autoexec]
@echo on
setlocal

REM Mount the current directory as C:
mount c .

REM Change to the source directory
c:
cd \WOLFSRC

REM Set up the environment for Borland C++
SET PATH=c:\BORLANDC\BIN;%PATH%
SET INCLUDE=c:\BORLANDC\INCLUDE
SET LIB=c:\BORLANDC\LIB

REM Compile the project and log output
echo Compiling Wolf3D...
REM BC /b wolf3d.prj > c:\WOLF3D\build_log.txt 2>&1
BC /b wolf3d.prj

REM Check if compilation was successful
REM if %errorlevel% neq 0 (
REM     echo Compilation failed. Check build_log.txt for details.
REM    type c:\WOLF3D\build_log.txt
REM    exit /b %errorlevel%
REM )

REM Copy the compiled executable and required files to the output directory
copy c:\WOLFSRC\OBJ\wolf3d.exe c:\WOLF3D

REM End of batch file
echo Build process completed.
pause
exit
